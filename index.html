   <!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patr√≠cia Pattas | Make up & Croch√™</title>
    <meta name="description" content="Vendas, servi√ßos e forma√ß√£o de maquilhagem profissional e moda croch√™.">
    <meta name="keywords" content="maquilhagem, croch√™, forma√ß√£o, angola, beleza, patr√≠cia pattas">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome & Google Fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- Configura√ß√£o de Cores (Tailwind) -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#8B5CF6', // Roxo vibrante
                        primaryDark: '#7C3AED', // Roxo escuro
                        secondary: '#DDD6FE', // Lil√°s claro
                        accent: '#4C1D95', // Roxo profundo
                        surface: '#F3E8FF', // Fundo lil√°s muito claro
                    },
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        /* Anima√ß√µes e Estilos Personalizados */
        body { font-family: 'Poppins', sans-serif; }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Chatbot Patr√≠cia */
        .chat-bubble { position: relative; max-width: 80%; padding: 10px 15px; border-radius: 15px; margin-bottom: 10px; font-size: 0.9rem; }
        .chat-user { background-color: #8B5CF6; color: white; align-self: flex-end; border-bottom-right-radius: 2px; margin-left: auto; }
        .chat-bot { background-color: #F3F4F6; color: #1F2937; align-self: flex-start; border-bottom-left-radius: 2px; border: 1px solid #E5E7EB; }
        
        /* Scrollbar personalizada */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #F3E8FF; }
        ::-webkit-scrollbar-thumb { background: #8B5CF6; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #7C3AED; }

        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        /* --- CONFIGURA√á√ÉO DE IMAGENS --- */
        .img-padrao {
            height: 220px;
            width: 100%;
            object-fit: cover;
        }
        
        .img-momento {
            height: 250px;
            width: 100%;
            object-fit: cover;
            border-radius: 0.75rem;
            transition: transform 0.3s ease;
        }
        .img-momento:hover {
            transform: scale(1.03);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 flex flex-col min-h-screen">

    <!-- CABE√áALHO -->
    <header class="fixed w-full top-0 z-50 glass-effect shadow-md border-b border-purple-100 transition-all duration-300" id="main-header">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            
            <!-- Logotipo -->
            <div class="flex items-center gap-2 cursor-pointer" onclick="router('home')">
                <div class="w-10 h-10 bg-gradient-to-tr from-primary to-purple-400 rounded-full flex items-center justify-center text-white font-bold text-xl">
                    P
                </div>
                <div>
                    <h1 class="text-xl font-bold text-primaryDark leading-tight">Patr√≠cia Pattas</h1>
                    <p class="text-xs text-gray-500 font-medium tracking-wider">MAKE UP & CROCH√ä</p>
                </div>
            </div>

            <!-- Navega√ß√£o Desktop -->
            <nav class="hidden lg:flex items-center gap-6 text-sm font-semibold text-gray-600">
                <a href="#" onclick="router('home')" class="hover:text-primary transition">In√≠cio</a>
                <a href="#" onclick="router('shop')" class="hover:text-primary transition">Loja</a>
                <a href="#" onclick="router('services')" class="hover:text-primary transition">Servi√ßos</a>
                <a href="#" onclick="router('booking')" class="hover:text-primary transition">Agendamento</a>
                <a href="#" onclick="router('multimedia')" class="hover:text-primary transition">Multim√©dia</a>
                <a href="#" onclick="router('blog')" class="hover:text-primary transition">Blog</a>
                <a href="#" onclick="router('partners')" class="hover:text-primary transition">Parceiros</a>
                <a href="#" onclick="router('contact')" class="hover:text-primary transition">Contato</a>
            </nav>

            <!-- √çcones de A√ß√£o -->
            <div class="flex items-center gap-4">
                <div class="hidden md:flex gap-3 text-primary">
                    <a href="https://www.instagram.com/patricia_makeup_e_croche?igsh=ZHFsd2FwMjc4Z2V2" target="_blank"><i class="fab fa-instagram hover:scale-110 transition"></i></a>
                    <a href="https://www.facebook.com/ateliermakeupecrochet?locale=pt_BR " target="_blank"><i class="fab fa-facebook hover:scale-110 transition"></i></a>
                    <a href="https://www.tiktok.com/@kawaii..97?_r=1&_t=ZS-93IDSs92war" target="_blank"><i class="fab fa-tiktok hover:scale-110 transition"></i></a>
                </div>

                <!-- Bot√£o Tela Cheia (NOVO) -->
                <button onclick="toggleFullScreen()" class="text-gray-600 hover:text-primary transition" title="Tela Cheia">
                    <i id="fullscreen-icon" class="fas fa-expand text-xl"></i>
                </button>

                <!-- Carrinho -->
                <button onclick="router('cart')" class="relative text-primaryDark hover:text-primary transition">
                    <i class="fas fa-shopping-bag text-2xl"></i>
                    <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center">0</span>
                </button>

                <!-- Menu Hamb√∫rguer (Mobile) -->
                <button onclick="toggleMobileMenu()" class="lg:hidden text-primaryDark text-2xl focus:outline-none">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>

        <!-- Menu Mobile Dropdown -->
        <div id="mobile-menu" class="hidden lg:hidden bg-white border-t border-purple-100 absolute w-full left-0 shadow-lg">
            <div class="flex flex-col p-4 gap-3 text-center font-medium">
                <a href="#" onclick="router('home'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">In√≠cio</a>
                <a href="#" onclick="router('shop'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">Loja & Produtos</a>
                <a href="#" onclick="router('services'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">Servi√ßos & Forma√ß√£o</a>
                <a href="#" onclick="router('booking'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">Agendamento</a>
                <a href="#" onclick="router('multimedia'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">V√≠deos & Dicas</a>
                <a href="#" onclick="router('blog'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">Blog</a>
                <a href="#" onclick="router('partners'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">Publicidade & Vagas</a>
                <a href="#" onclick="router('contact'); toggleMobileMenu()" class="py-2 text-gray-700 hover:bg-purple-50 rounded">Contato</a>
            </div>
        </div>
    </header>

    <!-- CONTE√öDO PRINCIPAL (SPA) -->
    <main id="app-content" class="flex-grow pt-20 pb-10 min-h-[80vh]">
        <!-- O conte√∫do ser√° injetado aqui via JavaScript -->
    </main>

    <!-- ASSISTENTE PATR√çCIA (Chatbot) -->
    <div class="fixed bottom-6 right-6 z-40 flex flex-col items-end">
        <!-- Janela do Chat -->
        <div id="chat-window" class="hidden bg-white w-80 h-96 rounded-2xl shadow-2xl border border-purple-200 flex flex-col mb-4 overflow-hidden transform transition-all origin-bottom-right">
            <div class="bg-primary p-3 flex justify-between items-center text-white">
                <div class="flex items-center gap-2">
                    <div class="w-8 h-8 bg-white rounded-full flex items-center justify-center text-primary font-bold">P</div>
                    <div>
                        <p class="font-bold text-sm">Patr√≠cia Pattas</p>
                        <p class="text-xs text-purple-200 flex items-center gap-1"><span class="w-2 h-2 bg-green-400 rounded-full"></span> Online agora</p>
                    </div>
                </div>
                <button onclick="toggleChat()" class="text-white hover:text-purple-200"><i class="fas fa-times"></i></button>
            </div>
            <div id="chat-messages" class="flex-1 p-3 overflow-y-auto bg-gray-50 flex flex-col gap-2">
                <!-- Mensagens aparecer√£o aqui -->
            </div>
            <div class="p-3 bg-white border-t flex gap-2">
                <input type="text" id="chat-input" placeholder="Pergunte algo..." class="flex-1 border rounded-full px-4 py-2 text-sm focus:outline-none focus:border-primary" onkeypress="if(event.key === 'Enter') sendMessage()">
                <button onclick="sendMessage()" class="bg-primary text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-primaryDark transition"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>

        <!-- Bot√£o Flutuante -->
        <button onclick="toggleChat()" class="bg-primary hover:bg-primaryDark text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center text-2xl transition transform hover:scale-105 animate-bounce">
            <i class="fas fa-comment-dots"></i>
        </button>
        <!-- WhatsApp Fixo -->
        <a href="https://wa.me/244926837464" target="_blank" class="bg-green-500 hover:bg-green-600 text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center text-2xl mt-4 transition transform hover:scale-105">
            <i class="fab fa-whatsapp"></i>
        </a>
    </div>

    <!-- RODAP√â -->
    <footer class="bg-gray-900 text-gray-300 pt-16 pb-8">
        <div class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
            
            <!-- Sobre -->
            <div>
                <div class="flex items-center gap-2 mb-4">
                    <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white font-bold">P</div>
                    <h3 class="text-xl font-bold text-white">Patr√≠cia Pattas</h3>
                </div>
                <p class="text-sm mb-4">Transformando beleza em arte atrav√©s da maquilhagem e do croch√™. Qualidade, estilo e forma√ß√£o profissional.</p>
                <div class="flex gap-4">
                    <a href="https://www.instagram.com/patricia_makeup_e_croche?igsh=ZHFsd2FwMjc4Z2V2" target="_blank" class="hover:text-primary transition"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.facebook.com/ateliermakeupecrochet?locale=pt_BR " target="_blank" class="hover:text-primary transition"><i class="fab fa-facebook"></i></a>
                    <a href="https://www.tiktok.com/@kawaii..97?_r=1&_t=ZS-93IDSs92war" target="_blank" class="hover:text-primary transition"><i class="fab fa-tiktok"></i></a>
                    <a href="mailto:angelinapatas97@gmail.com" class="hover:text-primary transition"><i class="fas fa-envelope"></i></a>
                </div>
            </div>

            <!-- Links R√°pidos -->
            <div>
                <h4 class="text-white font-bold mb-4 uppercase text-sm tracking-wider">Navega√ß√£o</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="#" onclick="router('services')" class="hover:text-primary transition">Servi√ßos</a></li>
                    <li><a href="#" onclick="router('shop')" class="hover:text-primary transition">Loja Virtual</a></li>
                    <li><a href="#" onclick="router('multimedia')" class="hover:text-primary transition">Portf√≥lio & Multim√©dia</a></li>
                    <li><a href="#" onclick="router('blog')" class="hover:text-primary transition">Blog de Not√≠cias</a></li>
                    <li><a href="#" onclick="router('partners')" class="hover:text-primary transition">Parceiros & Vagas</a></li>
                </ul>
            </div>

            <!-- Legal -->
            <div>
                <h4 class="text-white font-bold mb-4 uppercase text-sm tracking-wider">Termos Legais</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="#" onclick="router('legal-terms')" class="hover:text-primary transition">Termos de Uso</a></li>
                    <li><a href="#" onclick="router('legal-privacy')" class="hover:text-primary transition">Pol√≠tica de Privacidade</a></li>
                    <li><a href="#" onclick="router('legal-refund')" class="hover:text-primary transition">Pol√≠tica de Reembolso</a></li>
                    <li><a href="#" onclick="router('faq')" class="hover:text-primary transition">Perguntas Frequentes (FAQ)</a></li>
                </ul>
            </div>

            <!-- Newsletter (Com Mensagem Interna) -->
            <div>
                <h4 class="text-white font-bold mb-4 uppercase text-sm tracking-wider">Subscri√ß√£o</h4>
                <p class="text-xs mb-4">Subscreva para n√£o perder promo√ß√µes e atualiza√ß√µes.</p>
                <form id="newsletter-form" class="flex flex-col gap-2">
                    <input type="hidden" name="_to" value="angelinapatas97@gmail.com">
                    
                    <!-- IMPLEMENTA√á√ÉO 1: Mensagem personalizada interna -->
                    <input type="hidden" name="_subject" value="üåü Nova Subscri√ß√£o VIP - Site Patr√≠cia Pattas">
                    <input type="hidden" name="Notificacao_Interna" value="Ol√° Patr√≠cia! Um novo utilizador solicitou inscri√ß√£o na lista de promo√ß√µes e novidades do site. Adicione este contacto √† lista VIP.">
                    <input type="hidden" name="_autoresponse" value="Obrigada por subscrever! Agora voc√™ faz parte da lista exclusiva da Patr√≠cia Pattas. Em breve enviaremos novidades.">
                    
                    <input type="email" name="email" placeholder="Seu e-mail" required class="bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded focus:outline-none focus:border-primary text-sm">
                    <button type="submit" class="bg-primary hover:bg-primaryDark text-white py-2 rounded text-sm font-semibold transition flex justify-center items-center">
                        <span id="newsletter-btn-text">Inscrever</span>
                        <i id="newsletter-loader" class="fas fa-spinner fa-spin ml-2 hidden"></i>
                    </button>
                </form>
            </div>
        </div>
        
        <div class="container mx-auto px-4 border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center text-xs">
            <p>&copy; 2026 Patr√≠cia Pattas. Todos os direitos reservados.</p>
            <div class="flex gap-4 mt-4 md:mt-0">
                <span>Desenvolvido com <i class="fas fa-heart text-red-500"></i> para a beleza.</span>
            </div>
        </div>
    </footer>

    <!-- SCRIPT DA APLICA√á√ÉO -->
    <script>
        // --- CONFIGURA√á√ÉO GLOBAL ---
        const SITE_EMAIL = "angelinapatas97@gmail.com"; 

        // --- BANCO DE DADOS DE PRODUTOS ---
        const catalogoMaquilhagem = [
            { name: "Base Matte Velvet", price: "4.500", img: "https://images.unsplash.com/photo-1596462502278-27bfdd403cc2?auto=format&fit=crop&w=500&q=80" },
            { name: "Batom L√≠quido Red", price: "2.500", img: "https://images.unsplash.com/photo-1512496015851-a90fb38ba796?auto=format&fit=crop&w=500&q=80" },
            { name: "M√°scara de C√≠lios Volume", price: "3.000", img: "https://images.unsplash.com/photo-1631729371254-42c2892f0e6e?auto=format&fit=crop&w=500&q=80" },
            { name: "Paleta Sombras Nude", price: "8.000", img: "https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?auto=format&fit=crop&w=500&q=80" },
            { name: "Iluminador Gold", price: "3.500", img: "https://images.unsplash.com/photo-1616683693504-3ea7e9ad6fec?auto=format&fit=crop&w=500&q=80" },
            { name: "Corretivo Alta Cobertura", price: "3.200", img: "https://images.unsplash.com/photo-1596462502278-27bfdd403cc2?auto=format&fit=crop&w=500&q=80" },
            { name: "Blush P√™ssego", price: "2.800", img: "https://images.unsplash.com/photo-1512496015851-a90fb38ba796?auto=format&fit=crop&w=500&q=80" },
            { name: "Delineador Caneta", price: "1.500", img: "https://images.unsplash.com/photo-1631729371254-42c2892f0e6e?auto=format&fit=crop&w=500&q=80" }
        ];
        const catalogoCroche = [
            { name: "Conjunto de saia e cal√ßa", price: "30.000", img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/470870945_2269706376718201_1226928014039339194_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=a5f93a&_nc_eui2=AeEJTyYp1a_Z0YxZS_yvIE1zycB9OyvKqErJwH07K8qoSn1r87GvFGSjs4zDOrfBzo-hPdlwp_MyfPwgtcnTnNKr&_nc_ohc=ialtoukNPl0Q7kNvwF-MWxV&_nc_oc=AdnKw2lQnmJNdmKr05oORaB1H3qapK2beBGYCcspBUuBHB5Lk17whljqOg0wYx5113s7d2yX8zUHxKigxWVZwHAx&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=14p1UVElnNdSQBxmH0AaJQ&oh=00_AfqIDBudx40ZGvGatZmvYF-UG7U83CQ-t6FVItmDRB_6EQ&oe=697DB349" },
            { name: "Conjunto de Praia", price: "18.000", img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t1.6435-9/171847438_1353815051640676_4439554293050690979_n.jpg?_nc_cat=104&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeH8sC59_CH8LYrcIP0aGqXnZkoAuHaqG-pmSgC4dqob6g3qagrgPuL1IN-mPXcaepyEb3BPXdmfK-zcdeQpOUQQ&_nc_ohc=WWoQe2tmq_IQ7kNvwG850nd&_nc_oc=Adnf2-hNKyTsKkixdDVsopIFSKz1KiSpJ7aA-TB-fhs3YHCzMXiRLiYTctW-xbvGyzP9vgI2c_YfS65sLINcC8dC&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=efUyVvj_Lpf9ZdN3WSi65w&oh=00_Afr1LNJhKtd0tDz0EWsVGy3xC2MVorH5uWU-QaA_SdJ_zg&oe=699F18CD" },
            { name: "Croppede de praia", price: "15.000", img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t1.6435-9/186486433_1376257462729768_347258997037062071_n.jpg?_nc_cat=100&ccb=1-7&_nc_sid=a5f93a&_nc_eui2=AeE010Z1lnsR6QlSGct2hfyDt0d0nRFP4h23R3SdEU_iHTMb7ODeDqgLXlDq079adWZh8HYWmEr3mgwPLy_fMnld&_nc_ohc=H7avR1sXUwMQ7kNvwH_YDV1&_nc_oc=AdlEPIJTPViJsZX7F7FIR0XuZ03e3VGS8ZU7vXQh5q0O9VSAYMelyZ_fB1yXYiXLTplpeRpgYc-hHiTc_URqFtU3&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=zVIUuuwfrsFI3xp6yVSgFA&oh=00_Afp_5NbxYpq2vbA9dDCH6mTrmWUF4eYr8n0uSWWhAvUliA&oe=699F2A2E" },
            { name: "Conjunto de banho", price: "Solicitar pre√ßo", img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t1.6435-9/153119019_1322081041480744_4842156258718409745_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeF5TsZO6PSzduzkZDhPP85eANoUNy4NBOAA2hQ3Lg0E4NUFAOszCwKppwwhH-IBvoK_vxR4FuiXoIV6WFo_M_qj&_nc_ohc=vhgvxBuEX3IQ7kNvwHqNJBu&_nc_oc=AdmN2SFVY5ZgnkRCCZ8WdAJj8cL1jNAzmXoVM_o3KdncHxFQotp55yHRCR8xkK3xlJyZA_wmDNswC8k2TJr_JQ7F&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=qQqlvgdwDdZxBXX8eN1gLg&oh=00_AfoEUqY8IfDS3xMkj4fMdZkxjsYWCQHlw_Bi8s8sh1LwQA&oe=699F39CB" },
            { name: "Crop Top Festival", price: "4.500", img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t1.6435-9/172670460_1355466368142211_3019448796378848027_n.jpg?_nc_cat=111&ccb=1-7&_nc_sid=a5f93a&_nc_eui2=AeG4UnvU4obrvHjN9ovUd0-MeieiN4g-wFR6J6I3iD7AVC5cwpBu8jMAaO9PxcQL0gMpNJAM4YEaYdVyVmR1meGD&_nc_ohc=loxu_E3pTrMQ7kNvwEGz-Qi&_nc_oc=Adktqy-9Ew46o7vlYedzZtnH__Q98jf8OCIeDYtPTKxNbGttw5h40Uq5F2EKUbiRRnkMCZnfbhdJoFmHJyDe_3qL&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=jMgSfh4P2QYlcNDFa8QE5A&oh=00_AfokJbNGyQyu3KoxqkRhq5WbUL4v1_07GDbu6aMwo38ytw&oe=699F3641" },
            { name: "Bolsa de Ombro Trama", price: "6.000", img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t1.6435-9/177013438_1363531564002358_1945971796500641884_n.jpg?_nc_cat=105&ccb=1-7&_nc_sid=a5f93a&_nc_eui2=AeGXmNcalP7KmCzJQrD60DiI_zckabiZQiz_NyRpuJlCLCDNJayx7Hv-ZUlcz81qxsUf9-OSwOVeVOFYKZZrLNrh&_nc_ohc=yz8eaUHsNEwQ7kNvwGktA_m&_nc_oc=AdnBo19j0VZHGzUeXhdBQJax2oVzEMicVMSOLR5JNAqo-scROkDnRNFHZQZ-DvfyBpF35WHqZyduvuXfe2TjpCLK&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=3lS-gOY-pLPbyKhZBh6gPw&oh=00_AfocOB1BXfPz1R_nRVxmlARl2g9u6THe3KbxB9p1fiTBrQ&oe=699F2812" }
        ];
        const catalogoSkincare = [
            { name: "S√©rum Vitamina C", price: "6.500", img: "https://images.unsplash.com/photo-1570194065650-d99fb4b8ccb0?auto=format&fit=crop&w=500&q=80" },
            { name: "Hidratante Facial Gel", price: "4.000", img: "https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?auto=format&fit=crop&w=500&q=80" },
            { name: "Protetor Solar FPS 50", price: "7.000", img: "https://images.unsplash.com/photo-1556228578-0d85b1a4d571?auto=format&fit=crop&w=500&q=80" },
            { name: "T√≥nico Adstringente", price: "3.500", img: "https://images.unsplash.com/photo-1611930022073-b7a4ba5fcccd?auto=format&fit=crop&w=500&q=80" }
        ];
        const catalogoCabelos = [
            { name: "√ìleo Reparador Pontas", price: "3.000", img: "https://images.unsplash.com/photo-1527799820374-dcf8d9d4a388?auto=format&fit=crop&w=500&q=80" },
            { name: "M√°scara Hidrata√ß√£o Profunda", price: "5.500", img: "https://images.unsplash.com/photo-1631729371254-42c2892f0e6e?auto=format&fit=crop&w=500&q=80" },
            { name: "Shampoo Sem Sulfato", price: "4.000", img: "https://images.unsplash.com/photo-1590439471364-192aa70c0b53?auto=format&fit=crop&w=500&q=80" },
            { name: "Condicionador Reconstrutor", price: "4.200", img: "https://images.unsplash.com/photo-1626388476602-5e60808a54f0?auto=format&fit=crop&w=500&q=80" }
        ];
        const catalogoPerfumes = [
            { name: "Eau de Parfum Floral", price: "15.000", img: "https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&w=500&q=80" },
            { name: "Col√≥nia Fresh Citrus", price: "8.000", img: "https://images.unsplash.com/photo-1594035910387-fea47794261f?auto=format&fit=crop&w=500&q=80" },
            { name: "Perfume Amadeirado", price: "18.000", img: "https://images.unsplash.com/photo-1592945403244-b3fbafd7f539?auto=format&fit=crop&w=500&q=80" },
            { name: "Body Splash Vanilla", price: "5.000", img: "https://images.unsplash.com/photo-1615162489823-c533e4b48d2e?auto=format&fit=crop&w=500&q=80" }
        ];
        const catalogoUnhas = [
            { name: "Esmalte Gel Nude", price: "2.000", img: "https://images.unsplash.com/photo-1604654894610-df63bc536371?auto=format&fit=crop&w=500&q=80" },
            { name: "Kit Unhas Posti√ßas", price: "3.500", img: "https://images.unsplash.com/photo-1632516643720-e7f5d7d6ecc9?auto=format&fit=crop&w=500&q=80" },
            { name: "Alicate Profissional", price: "4.000", img: "https://images.unsplash.com/photo-1519014816548-bf5fe059e98b?auto=format&fit=crop&w=500&q=80" },
            { name: "Base Fortalecedora", price: "1.800", img: "https://images.unsplash.com/photo-1522337660859-02fbefca4702?auto=format&fit=crop&w=500&q=80" }
        ];
        const catalogoAcessorios = [
            { name: "Kit Pinc√©is Pro", price: "10.000", img: "https://images.unsplash.com/photo-1590219717156-f5b248a31828?auto=format&fit=crop&w=500&q=80" },
            { name: "Esponja Blender", price: "1.200", img: "https://images.unsplash.com/photo-1627995874404-e3906a537f86?auto=format&fit=crop&w=500&q=80" },
            { name: "Necessaire Transparente", price: "3.000", img: "https://images.unsplash.com/photo-1582239634289-e5a973d4e8b3?auto=format&fit=crop&w=500&q=80" },
            { name: "Espelho de Bolsa", price: "1.500", img: "https://images.unsplash.com/photo-1581427508738-94f31c2c3175?auto=format&fit=crop&w=500&q=80" }
        ];

        // --- GERA√á√ÉO DO CAT√ÅLOGO GERAL ---
        const products = [];
        function generateProducts() {
            let idCounter = 1;
            const processCategory = (list, categoryName) => {
                list.forEach(item => {
                    products.push({
                        id: idCounter++,
                        name: item.name,
                        category: categoryName,
                        price: item.price,
                        image: item.img,
                        description: `Produto de alta qualidade da categoria ${categoryName}.`
                    });
                });
            };
            processCategory(catalogoMaquilhagem, 'Maquilhagem');
            processCategory(catalogoCroche, 'Croch√™');
            processCategory(catalogoSkincare, 'Skincare');
            processCategory(catalogoCabelos, 'Cabelos');
            processCategory(catalogoPerfumes, 'Perfumes');
            processCategory(catalogoUnhas, 'Unhas');
            processCategory(catalogoAcessorios, 'Acess√≥rios');
        }
        generateProducts();

        const services = [
            { id: 1, title: "Maquilhagem Social", price: "15.000", desc: "Para festas e eventos." },
            { id: 2, title: "Maquilhagem de Noiva", price: "50.000", desc: "Pacote completo com teste." },
            { id: 3, title: "Curso Auto-Maquilhagem", price: "30.000", desc: "Aprenda a real√ßar sua beleza (1 dia)." },
            { id: 4, title: "Curso Profissional", price: "150.000", desc: "Forma√ß√£o completa com certificado (1 m√™s)." },
            { id: 5, title: "Entrega Express", price: "2.000", desc: "Entrega de produtos em Luanda." },
            { id: 6, title: "Consultoria de Imagem", price: "20.000", desc: "An√°lise de colora√ß√£o pessoal." }
        ];

        // IMPLEMENTA√á√ÉO 2: Estrutura de Blog Expandida
        const blogPosts = [
            { 
                id: 1,
                title: "5 Dicas para a Base Perfeita", 
                date: "20 Janeiro 2026", 
                img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/469559368_18434619232078958_8086162617319672375_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeHCWGbPQfoiaTV1FzqaUGRR_JyOSWGop0j8nI5JYainSASDg44Bc3EBS_6yj10hQjWmZcrAtoXisO8k2qYEouMg&_nc_ohc=B69CYZXWvk4Q7kNvwHY2hxk&_nc_oc=AdkxR0Z9LlQHHnUIJt3PS2agV21jDcd0UJtVwUO1sfApXYHctNd6TONup0BWDLQacYZQsIG7RfXcMBRYBCOwGmFl&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=JkpWbD99QG-FBkao_LprJg&oh=00_AfqyfMpIRA5WuKWvtT-qc9rPgoBJyW7Hi4QRSKierBFxSA&oe=697DB680",
                fullContent: `
                    <p class="mb-4">Conseguir aquela pele de porcelana n√£o √© imposs√≠vel. O segredo est√° na prepara√ß√£o e na t√©cnica de aplica√ß√£o. Aqui est√£o as 5 dicas de ouro que usamos no atelier Patr√≠cia Pattas:</p>
                    <ul class="list-disc pl-5 mb-4 space-y-2">
                        <li><strong>1. Hidrata√ß√£o √© a Chave:</strong> Nunca aplique base em pele seca. Use um hidratante adequado ao seu tipo de pele 5 minutos antes.</li>
                        <li><strong>2. O Primer Certo:</strong> Se tens poros dilatados, usa um primer de silicone. Se a pele √© seca, opta por um luminoso.</li>
                        <li><strong>3. Menos √© Mais:</strong> Come√ßa com pouca quantidade no centro do rosto e espalha para fora. Isso evita o efeito m√°scara.</li>
                        <li><strong>4. Esponja H√∫mida:</strong> Para um acabamento natural, d√° batidinhas com a esponja h√∫mida (tipo Beauty Blender) ap√≥s aplicar com pincel.</li>
                        <li><strong>5. Sele com P√≥:</strong> Na zona T (testa, nariz e queixo), usa um p√≥ solto fino para garantir que a base dura o dia todo no calor de Angola.</li>
                    </ul>
                    <p>Experimenta estas dicas e conta-nos o resultado!</p>
                `
            },
            { 
                id: 2,
                title: "Tend√™ncias de Croch√™ para o Ver√£o", 
                date: "15 Janeiro 2026", 
                img: "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/481276868_2423733901328858_8914340366746669761_n.jpg?_nc_cat=111&ccb=1-7&_nc_sid=3a1ebe&_nc_eui2=AeG9EC0dUayM-nm-qvMC10xbilDISyf0ljyKUMhLJ_SWPJaB_gwO7HzDeYSaeAeNWgCMehfBl2WUUHpVhCMxV019&_nc_ohc=be8zGQxU4BkQ7kNvwE0jbPL&_nc_oc=AdkNvxPQbclozEjbX9pck8a9bWgacHDtZ-2e-LsbbZzkVxFIynUObrtahVv2GVlGogK06WEE7zOPZJQO7iW0eKtK&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=QyhktIZOxFg9LxWs2Tg-6A&oh=00_AfpeGEQBtLG7VhewpXJoW9AGJdcpg4LG6lwln2ZjVa_aGA&oe=697DC58A",
                fullContent: `
                    <p class="mb-4">O croch√™ deixou de ser "coisa de av√≥" e invadiu as passarelas e as praias de Luanda. Neste ver√£o, a aposta √© na leveza e nas cores vibrantes.</p>
                    <h4 class="font-bold mt-4 mb-2">O que est√° em alta?</h4>
                    <p class="mb-2"><strong>Sa√≠das de Praia Longas:</strong> Vestidos longos com pontos abertos s√£o elegantes e frescos.</p>
                    <p class="mb-2"><strong>Biqu√≠nis Micro:</strong> O croch√™ permite modelagens √∫nicas que se ajustam ao corpo.</p>
                    <p class="mb-2"><strong>Conjuntos Color Block:</strong> Misturar roxo com laranja ou verde com rosa √© a tend√™ncia do momento.</p>
                    <p class="mt-4">No nosso atelier, usamos fios 100% algod√£o para garantir que a pe√ßa respire e n√£o esquente demasiado ao sol.</p>
                `
            },
            { 
                id: 3,
                title: "Cuidados Essenciais com a Pele", 
                date: "10 Janeiro 2026", 
                img: "https://www.primor.eu/blog/pt/wp-content/uploads/2025/01/RUTINA-FACIAL-NEGRAS-1200x675.jpg",
                fullContent: `
                    <p class="mb-4">Uma maquilhagem bonita come√ßa numa pele saud√°vel. Segue este ritual simples para manteres o brilho natural:</p>
                    <ol class="list-decimal pl-5 mb-4 space-y-2">
                        <li><strong>Limpeza Dupla:</strong> √Ä noite, usa um √≥leo de limpeza seguido de um gel. Isso remove maquilhagem e polui√ß√£o profundamente.</li>
                        <li><strong>Tonificar:</strong> Equilibra o pH da pele ap√≥s a lavagem.</li>
                        <li><strong>S√©rum de Vitamina C:</strong> Essencial para combater manchas e dar luminosidade (temos dispon√≠vel na loja!).</li>
                        <li><strong>Prote√ß√£o Solar:</strong> O passo mais importante. Em √Åfrica, o sol n√£o perdoa. Usa FPS 50 todos os dias, mesmo em casa.</li>
                    </ol>
                    <p>A consist√™ncia √© o segredo. Cuida de ti todos os dias.</p>
                `
            }
        ];

        // --- ESTADO DA APLICA√á√ÉO ---
        let cart = JSON.parse(localStorage.getItem('patricia_cart')) || [];
        let chatHistory = [];

        // --- ROTEADOR (Navega√ß√£o SPA) ---
        // Atualizado para aceitar par√¢metros (para abrir o blog)
        function router(page, param = null) {
            const content = document.getElementById('app-content');
            window.scrollTo(0, 0);
            let html = '';
            switch(page) {
                case 'home': html = renderHome(); break;
                case 'shop': html = renderShop(); break;
                case 'services': html = renderServices(); break;
                case 'booking': html = renderBooking(); break;
                case 'contact': html = renderContact(); break;
                case 'about': html = renderAbout(); break;
                case 'cart': html = renderCart(); break;
                case 'multimedia': html = renderMultimedia(); break;
                case 'blog': html = renderBlog(); break;
                case 'blog-post': html = renderBlogPost(param); break; // Nova Rota
                case 'partners': html = renderPartners(); break;
                case 'faq': html = renderFAQ(); break;
                case 'legal-terms': case 'legal-privacy': case 'legal-refund': html = renderLegal(page); break;
                default: html = renderHome();
            }
            content.innerHTML = `<div class="fade-in">${html}</div>`;
            updateCartCount();
        }

        // --- RENDERIZADORES DE P√ÅGINAS ---
        function renderHome() {
            return `
                <section class="relative bg-primaryDark text-white h-[500px] flex items-center">
                    <div class="absolute inset-0 bg-black opacity-40"></div>
                    <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1522337660859-02fbefca4702?ixlib=rb-1.2.1&auto=format&fit=crop&w=1500&q=80')] bg-cover bg-center mix-blend-overlay"></div>
                    <div class="container mx-auto px-4 relative z-10 text-center md:text-left">
                        <h1 class="text-4xl md:text-6xl font-bold mb-4">Realce sua Beleza <br> com Arte e Estilo</h1>
                        <p class="text-lg md:text-xl mb-8 max-w-2xl">Maquilhagem profissional, cursos especializados e moda croch√™ exclusiva em Angola. A qualidade que voc√™ merece.</p>
                        <div class="flex flex-col md:flex-row gap-4 justify-center md:justify-start">
                            <button onclick="router('shop')" class="bg-white text-primaryDark px-8 py-3 rounded-full font-bold hover:bg-gray-100 transition shadow-lg">Ver Produtos</button>
                            <button onclick="router('booking')" class="border-2 border-white text-white px-8 py-3 rounded-full font-bold hover:bg-white hover:text-primaryDark transition">Agendar Agora</button>
                        </div>
                    </div>
                </section>
                <section class="py-16 bg-white">
                    <div class="container mx-auto px-4">
                        <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">Nossos Universos</h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                            <div class="bg-purple-50 p-8 rounded-2xl text-center hover:shadow-xl transition cursor-pointer" onclick="router('shop')">
                                <div class="w-16 h-16 bg-primary text-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl"><i class="fas fa-magic"></i></div>
                                <h3 class="text-xl font-bold mb-2">Maquilhagem</h3>
                                <p class="text-gray-600">Produtos de alta qualidade e servi√ßos para todas as ocasi√µes.</p>
                            </div>
                            <div class="bg-purple-50 p-8 rounded-2xl text-center hover:shadow-xl transition cursor-pointer" onclick="router('shop')">
                                <div class="w-16 h-16 bg-primary text-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl"><i class="fas fa-mitten"></i></div>
                                <h3 class="text-xl font-bold mb-2">Croch√™</h3>
                                <p class="text-gray-600">Pe√ßas exclusivas feitas √† m√£o com amor e dedica√ß√£o.</p>
                            </div>
                            <div class="bg-purple-50 p-8 rounded-2xl text-center hover:shadow-xl transition cursor-pointer" onclick="router('services')">
                                <div class="w-16 h-16 bg-primary text-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl"><i class="fas fa-graduation-cap"></i></div>
                                <h3 class="text-xl font-bold mb-2">Forma√ß√£o</h3>
                                <p class="text-gray-600">Torne-se uma profissional com nossos cursos certificados.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="py-16 bg-secondary/30">
                    <div class="container mx-auto px-4 flex flex-col md:flex-row items-center gap-12">
                        <div class="md:w-1/2">
                            <img src="https://images.unsplash.com/photo-1512496015851-a90fb38ba796?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Patr√≠cia Pattas" class="rounded-lg shadow-2xl">
                        </div>
                        <div class="md:w-1/2">
                            <h2 class="text-3xl font-bold text-primaryDark mb-6">Sobre a Patr√≠cia Pattas</h2>
                            <p class="text-gray-700 mb-4 leading-relaxed">Nossa miss√£o √© elevar a autoestima atrav√©s da arte. Com anos de experi√™ncia no mercado de beleza angolano, oferecemos um servi√ßo personalizado e produtos de excel√™ncia.</p>
                            <p class="text-gray-700 mb-6 leading-relaxed">Valorizamos a autenticidade, a inova√ß√£o e o compromisso com cada cliente. Seja atrav√©s de um pincel ou de uma agulha de croch√™, criamos beleza.</p>
                            <button onclick="router('about')" class="text-primary font-bold hover:underline">Ler nossa hist√≥ria completa &rarr;</button>
                        </div>
                    </div>
                </section>
            `;
        }

        function renderShop() {
            let itemsHtml = products.map(p => `
                <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition group flex flex-col category-item" data-category="${p.category}">
                    <div class="relative overflow-hidden">
                        <img src="${p.image}" alt="${p.name}" class="img-padrao transform group-hover:scale-110 transition duration-500">
                        <span class="absolute top-2 right-2 bg-primary text-white text-xs font-bold px-2 py-1 rounded">${p.category}</span>
                    </div>
                    <div class="p-4 flex flex-col flex-grow">
                        <h3 class="font-bold text-gray-800 mb-1 truncate">${p.name}</h3>
                        <p class="text-sm text-gray-500 mb-3 line-clamp-2 flex-grow">${p.description}</p>
                        <div class="flex justify-between items-center mt-2">
                            <span class="text-primaryDark font-bold text-lg">${p.price} Kz</span>
                            <button onclick="addToCart(${p.id})" class="bg-primary text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-primaryDark transition shadow-lg" title="Adicionar ao Carrinho"><i class="fas fa-shopping-cart"></i></button>
                        </div>
                    </div>
                </div>
            `).join('');
            return `
                <div class="container mx-auto px-4 py-8">
                    <h2 class="text-3xl font-bold text-center mb-4 text-primaryDark">Loja Virtual</h2>
                    <p class="text-center text-gray-500 mb-8 text-sm">Entregas em toda Angola (Luanda via moto-t√°xi, Prov√≠ncias via transportadora).</p>
                    <div class="flex flex-wrap justify-center gap-4 mb-8">
                        <input type="text" id="searchProduct" placeholder="Buscar produto..." class="border border-purple-200 px-4 py-2 rounded-full focus:outline-none focus:border-primary w-full md:w-64" onkeyup="filterProducts()">
                        <select id="categorySelect" onchange="filterProducts()" class="border border-purple-200 px-4 py-2 rounded-full focus:outline-none focus:border-primary bg-white">
                            <option value="all">Todas as Categorias</option>
                            <option value="Maquilhagem">Maquilhagem</option>
                            <option value="Croch√™">Croch√™</option>
                            <option value="Skincare">Skincare</option>
                            <option value="Cabelos">Cabelos</option>
                            <option value="Perfumes">Perfumes</option>
                            <option value="Unhas">Unhas</option>
                            <option value="Acess√≥rios">Acess√≥rios</option>
                        </select>
                    </div>
                    <div id="product-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">${itemsHtml}</div>
                </div>
            `;
        }

        function renderServices() {
            let list = services.map(s => `
                <div class="flex flex-col md:flex-row justify-between items-center bg-white p-6 rounded-xl shadow mb-4 border-l-4 border-primary">
                    <div class="mb-4 md:mb-0 text-center md:text-left">
                        <h3 class="font-bold text-xl text-gray-800">${s.title}</h3>
                        <p class="text-gray-500">${s.desc}</p>
                    </div>
                    <div class="flex flex-col md:flex-row items-center gap-4">
                        <span class="font-bold text-2xl text-primaryDark">${s.price} Kz</span>
                        <button onclick="router('booking')" class="bg-gray-800 text-white px-6 py-2 rounded-full hover:bg-gray-900 transition">Agendar</button>
                    </div>
                </div>
            `).join('');
            return `
                <div class="container mx-auto px-4 py-8 max-w-4xl">
                    <h2 class="text-3xl font-bold text-center mb-2 text-primaryDark">Nossos Servi√ßos</h2>
                    <p class="text-center text-gray-600 mb-10">Qualidade profissional em cada detalhe.</p>
                    ${list}
                </div>
            `;
        }

        function renderBooking() {
            return `
                <div class="container mx-auto px-4 py-8 max-w-2xl">
                    <div class="bg-white rounded-2xl shadow-xl p-8">
                        <h2 class="text-3xl font-bold text-center mb-6 text-primaryDark">Agendamento Online</h2>
                        <form onsubmit="handleBooking(event)" class="space-y-6">
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-2">Selecione a Zona (Luanda)</label>
                                <div class="grid grid-cols-2 gap-4">
                                    <label class="cursor-pointer">
                                        <input type="radio" name="zone" value="norte" class="peer sr-only" checked>
                                        <div class="border-2 border-gray-200 rounded-lg p-4 text-center peer-checked:border-primary peer-checked:bg-purple-50 transition"><i class="fas fa-map-marker-alt text-xl mb-2 text-primary"></i><p class="font-bold">Luanda Norte</p></div>
                                    </label>
                                    <label class="cursor-pointer">
                                        <input type="radio" name="zone" value="sul" class="peer sr-only">
                                        <div class="border-2 border-gray-200 rounded-lg p-4 text-center peer-checked:border-primary peer-checked:bg-purple-50 transition"><i class="fas fa-map-marker-alt text-xl mb-2 text-primary"></i><p class="font-bold">Luanda Sul</p></div>
                                    </label>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-2">Servi√ßo</label>
                                <select class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:border-primary focus:ring-primary">${services.map(s => `<option value="${s.title}">${s.title} - ${s.price} Kz</option>`).join('')}</select>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div><label class="block text-sm font-bold text-gray-700 mb-2">Data</label><input type="date" required class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:border-primary"></div>
                                <div><label class="block text-sm font-bold text-gray-700 mb-2">Hor√°rio</label><select class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:border-primary"><option>09:00</option><option>10:00</option><option>11:00</option><option>14:00</option><option>15:00</option><option>16:00</option></select></div>
                            </div>
                            <div><label class="block text-sm font-bold text-gray-700 mb-2">Seu Nome</label><input type="text" required class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:border-primary" placeholder="Maria Silva"></div>
                            <button type="submit" class="w-full bg-primary text-white font-bold py-4 rounded-lg hover:bg-primaryDark transition shadow-lg">Confirmar Agendamento via WhatsApp</button>
                        </form>
                    </div>
                </div>
            `;
        }

        function renderMultimedia() {
            const fotosMomentos = [
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/471180106_18436794991078958_1378249432723982975_n.jpg?_nc_cat=107&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeFfa5MwmsfoKPieKugq1ZPuh4EqDbxRnZqHgSoNvFGdmhiVgsaNvrhYefhI-yMnuBD4jwsz9JQAefnMBKswtLPb&_nc_ohc=SFDOavpAVm0Q7kNvwHcwPS2&_nc_oc=AdmTFerFWGXOo33VteT-g5JBk7G86fze3jD1py7mDsE4xuvEJjgckXbJNGsBbktdsMLyHWc-_Avb-c1isDc8j2nF&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=bXuSvBBby32Bozd-1ww2GQ&oh=00_AfqytBN2UKLJs0twpUqPQgmreJ8R-CQPlR0py5zq5rNpug&oe=697C0FF3",
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/470561983_18436799662078958_4930335527415635425_n.jpg?_nc_cat=109&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeF-sskuY0YXt0M1x0foR8D0BnPT1DraTtQGc9PUOtpO1Cv2Qcv6oFak-IhxEaT2s7WSZyFwE3MLrAcwRpOgsNRx&_nc_ohc=3Og_arEM7p4Q7kNvwEQ9mN2&_nc_oc=AdnVY0E48wjuw1cGM9f9Chv17AznEBsOMEjAZmLsGsmLSvCXp1907gyisIY2UXhU5O8pQBb3UPDEx34PctlNGHMU&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=mHd5L48vbjQJOhd0_QFuZA&oh=00_AfoN5rhKqG1GSsA0FD5LVnJ2iVPP6-cv7-bqbVBzRrr_NA&oe=697C0DFF",
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t51.75761-15/491415750_18058241234154897_6955716653653450962_n.jpg?_nc_cat=109&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeGIp-AkLGOs61fmNz4YPOEHbknabuyGAP1uSdpu7IYA_UWurKSyBK-BWbSAYPbJmoN4y3Ozi_VpnoizyKhAZrmh&_nc_ohc=4G11CaHhZxcQ7kNvwHBqg1p&_nc_oc=Adkh3xWwn8gJlxN7kk9Vo06rncjraMSPJuQCAmdj7nBJKwosfFC_y6Q6j0o8Yb5w55Wx-1ZNlSzSVXGeD0X1FiLH&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=pcTNkH3hSyFk__r1SbXlUA&oh=00_AfoCAyk1hHN5eGjK-EfDYEqqkplL77KED75pHOuS9IwjOw&oe=697BDB30",
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/470193703_18435865387078958_2744649882938717474_n.jpg?_nc_cat=108&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeEMF7wwr0z7wMF108Si4fK_zOblki1B_jfM5uWSLUH-N_hvy7My_9STNrfNeFK89Vcr3ZliEgJsSmbvl97sTAoL&_nc_ohc=Kk7HLSwE8roQ7kNvwFVCNe9&_nc_oc=Adnb-E7tZLrecEjhLoEdN_vqqjkXEBiodXyQB6vSElesKdv2LiiAMq_27WuTR72TYtXwtukTrdX9zu_1tUGlklYs&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=G-8ZoVUdxXKdX_ZN8qQwyA&oh=00_AfqQSeJbXm30qXDbbzMJ-e143GFMFO44fr1cbNkqYxWkRg&oe=697D940E",
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/470591699_18436796845078958_3451455706905805234_n.jpg?_nc_cat=106&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeHvpPYdtMPsEE0L1p6xHP5qchEpsQz6_8VyESmxDPr_xZU77SL6J92H8iDgsEW1lqER11DZrRixt3LSZHaK6CET&_nc_ohc=Itso89tXqmgQ7kNvwGLGTj6&_nc_oc=Adl0okGV_UAobhHogsOEaXcM2rU-GfkvePYwvIeePXxsE4WScTxsa0mazI0jSz1lzHwYJLfAV3iBkNTsIQ6i-MNk&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=Kbb1pApb7t08RqCGYBrWsw&oh=00_AfqXp1oKVqiyeBhSwnX8dbsGRHXVvS24M8MinOO4-n7R5Q&oe=697C36AC",
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/470203869_18435856990078958_1989981725040914006_n.jpg?_nc_cat=104&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeGTGFRfCFRxuq2U96lcOjUmxvc5ya9GbrPG9znJr0Zus4tavXPzcqM_-rMTo3GvDA-JzkupyIqPkEe4wffQuG6Z&_nc_ohc=Nk1P5Zfg6ScQ7kNvwHlLy4t&_nc_oc=AdmWwA9kcTcEEazqmO7AF7c6CMSEZr-HDJq_2tRkPfafxa1J1nH52OlJnSIQ-bCbsbz6tpXg_TmZ-BiORLezlYrN&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=S4vTr9hxFxWYd0c227NC5w&oh=00_AfqvYq8jEL2VjDOm7rIgK5Bu5TPJMFPnxZKCKYH0HH-McA&oe=697DB41E",
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t51.75761-15/499465694_18462879655078958_1835999236501744835_n.jpg?_nc_cat=101&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeGvYx1-ZpKX-1UUWUuGAQMgSIfmIFUgNDRIh-YgVSA0NLIAM6H3ZeeRqaDePU5ZbanjUr8GoeikPNDhtMtZTsAO&_nc_ohc=ku-RCo5WYaUQ7kNvwHWEjSv&_nc_oc=AdnDcVDizGvxD7kAwiBKRJyaibZyk-Sl7Otb3ABzZGunModexccmRvJ9VWeq0fLJtqzCiNrwLoFNHrT6ttUnS-vC&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=UWkGrx1ySIQjpHcPZTTBbg&oh=00_AfqJpne-IdPWtT-uBZVKoD7O80Ls_vxyRHw4xqtt5KHfxg&oe=697C28A8",
                "https://scontent-cpt1-1.xx.fbcdn.net/v/t39.30808-6/471155898_18436800277078958_3047970815837566890_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeFfyMv7k7J8hvykJrGR2vzvjDhCNIwwKJyMOEI0jDAonJMBMTjmxoZStVYldTc7SaedYo2IrHx4hlYygH7YxceX&_nc_ohc=1QNsxvgNu6EQ7kNvwGI0B71&_nc_oc=AdkuFnUx-jj9yO68JjeIYsSV8Etw1J88OQOYCjC7zVHRARCkl0nxweHZE5C1zIX9OfgoPpnh3gt_FX86RpggiMVU&_nc_zt=23&_nc_ht=scontent-cpt1-1.xx&_nc_gid=xMjS2DzNg-8_676IWnlAJQ&oh=00_Afp3waAYQXfqCsBBqAKUWI4Q4h8_4MMj4kCFn0zkAuudWg&oe=697C3ACD"
            ];
            return `
                <div class="container mx-auto px-4 py-8">
                    <h2 class="text-3xl font-bold text-center mb-8 text-primaryDark">Multim√©dia & Dicas</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-16">
                        <div class="bg-black rounded-xl h-[550px] flex items-center justify-center relative overflow-hidden shadow-lg border border-gray-900">
                             <iframe src="https://www.tiktok.com/embed/v2/7591613718400601400" class="w-full h-full border-0" allowfullscreen scrolling="no" allow="encrypted-media;"></iframe>
                        </div>
                        <div class="bg-white rounded-xl h-[550px] flex items-center justify-center relative overflow-hidden shadow-lg border border-gray-100">
                             <iframe src="https://www.facebook.com/plugins/video.php?height=550&href=https%3A%2F%2Fwww.facebook.com%2Freel%2F773125141667597&show_text=false&width=308&t=0" width="100%" height="100%" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share" allowFullScreen="true"></iframe>
                        </div>
                        <div class="video-card bg-white border border-gray-100 rounded-2xl p-4 shadow-lg hover:shadow-xl transition duration-300 h-[550px] flex flex-col">
                            <div class="flex items-center gap-2 mb-3 text-[#E1306C] font-bold">
                                <i class="fab fa-instagram text-xl"></i>
                                <span>Instagram Reels</span>
                            </div>
                            <div class="flex-grow relative overflow-hidden rounded-xl">
                                <iframe src="https://www.instagram.com/reel/DSKJORdjp4L/embed" class="absolute top-0 left-0 w-full h-full border-0" allowtransparency="true" allowfullscreen="true" scrolling="no"></iframe>
                            </div>
                        </div>
                    </div>
                    <div class="mt-12">
                        <div class="text-center mb-8">
                            <h3 class="text-2xl md:text-3xl font-bold text-primaryDark mb-2">Momentos Patr√≠cia Pattas</h3>
                            <p class="text-gray-500">Um olhar sobre a nossa arte e dia-a-dia.</p>
                        </div>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            ${fotosMomentos.map(img => `
                                <div class="overflow-hidden rounded-xl shadow-md">
                                    <img src="${img}" class="img-momento" alt="Momento Patr√≠cia Pattas">
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        // NOVO: Fun√ß√£o para renderizar lista de blogs
        function renderBlog() {
            return `
                <div class="container mx-auto px-4 py-8">
                    <h2 class="text-3xl font-bold text-center mb-8 text-primaryDark">Blog de Not√≠cias</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        ${blogPosts.map((post) => `
                            <div class="bg-white rounded-xl shadow overflow-hidden hover:shadow-lg transition flex flex-col h-full">
                                <img src="${post.img}" class="w-full h-48 object-cover">
                                <div class="p-6 flex flex-col flex-grow">
                                    <p class="text-xs text-primary font-bold mb-2">${post.date}</p>
                                    <h3 class="text-xl font-bold text-gray-800 mb-3">${post.title}</h3>
                                    <p class="text-gray-600 text-sm mb-4 flex-grow line-clamp-3">
                                        <!-- Pr√©via do conte√∫do -->
                                        ${post.fullContent.replace(/<[^>]*>/g, '').substring(0, 100)}...
                                    </p>
                                    <!-- IMPLEMENTA√á√ÉO 2: Bot√£o para abrir artigo completo -->
                                    <button onclick="router('blog-post', ${post.id})" class="bg-primary/10 text-primaryDark font-bold py-2 rounded hover:bg-primary hover:text-white transition w-full mt-auto">Ler Completo</button>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // NOVO: Fun√ß√£o para renderizar um post √∫nico completo
        function renderBlogPost(id) {
            const post = blogPosts.find(p => p.id === id);
            if (!post) return renderBlog();

            return `
                <div class="container mx-auto px-4 py-8 max-w-3xl">
                    <button onclick="router('blog')" class="mb-6 flex items-center gap-2 text-gray-600 hover:text-primary transition font-semibold">
                        <i class="fas fa-arrow-left"></i> Voltar para o Blog
                    </button>
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
                        <img src="${post.img}" class="w-full h-64 md:h-96 object-cover">
                        <div class="p-8">
                            <div class="flex items-center gap-2 text-primary font-bold text-sm mb-4">
                                <i class="far fa-calendar-alt"></i> ${post.date}
                            </div>
                            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6 leading-tight">${post.title}</h1>
                            <div class="prose prose-purple max-w-none text-gray-700 leading-relaxed">
                                ${post.fullContent}
                            </div>
                            <div class="mt-8 border-t pt-6 flex justify-between items-center">
                                <span class="font-bold text-gray-800">Gostou deste artigo?</span>
                                <div class="flex gap-2">
                                    <button onclick="shareArticleFacebook()" class="w-10 h-10 rounded-full bg-blue-100 text-blue-600 hover:bg-blue-200 flex items-center justify-center cursor-pointer" title="Partilhar no Facebook"><i class="fab fa-facebook-f"></i></button>
                                    <button onclick="shareArticleWhatsApp('${post.title.replace(/'/g, "\\'")}')" class="w-10 h-10 rounded-full bg-green-100 text-green-600 hover:bg-green-200 flex items-center justify-center cursor-pointer" title="Partilhar no WhatsApp"><i class="fab fa-whatsapp"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderCart() {
            if (cart.length === 0) {
                return `
                    <div class="container mx-auto px-4 py-16 text-center">
                        <i class="fas fa-shopping-basket text-6xl text-gray-300 mb-4"></i>
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">Seu carrinho est√° vazio</h2>
                        <p class="text-gray-500 mb-6">Explore nossa loja e encontre produtos incr√≠veis.</p>
                        <button onclick="router('shop')" class="bg-primary text-white px-8 py-3 rounded-full font-bold hover:bg-primaryDark">Ir para a Loja</button>
                    </div>
                `;
            }
            const total = cart.reduce((acc, item) => acc + parseFloat(item.price), 0).toFixed(0);
            return `
                <div class="container mx-auto px-4 py-8 max-w-4xl">
                    <h2 class="text-3xl font-bold mb-8 text-primaryDark">Carrinho de Compras</h2>
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                        ${cart.map((item, index) => `
                            <div class="flex items-center p-4 border-b border-gray-100">
                                <img src="${item.image}" class="w-16 h-16 rounded object-cover mr-4">
                                <div class="flex-1">
                                    <h3 class="font-bold text-gray-800">${item.name}</h3>
                                    <p class="text-sm text-gray-500">${item.category}</p>
                                </div>
                                <div class="font-bold text-primaryDark mr-4">${item.price} Kz</div>
                                <button onclick="removeFromCart(${index})" class="text-red-400 hover:text-red-600"><i class="fas fa-trash"></i></button>
                            </div>
                        `).join('')}
                        <div class="p-6 bg-purple-50 flex flex-col md:flex-row justify-between items-center">
                            <div class="mb-4 md:mb-0">
                                <p class="text-gray-600">Total a Pagar</p>
                                <p class="text-3xl font-bold text-primaryDark">${total} Kz</p>
                            </div>
                            <button onclick="checkoutWhatsApp()" class="bg-green-500 text-white px-8 py-4 rounded-lg font-bold hover:bg-green-600 transition flex items-center gap-2 shadow-lg w-full md:w-auto justify-center">
                                <i class="fab fa-whatsapp text-2xl"></i> Finalizar Compra no WhatsApp
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderPartners() {
            return `
                <div class="container mx-auto px-4 py-8">
                    <div class="bg-gradient-to-r from-purple-100 to-white rounded-2xl p-8 mb-12 border border-purple-200">
                        <h2 class="text-3xl font-bold text-center text-primaryDark mb-2">Publicidade & Vagas</h2>
                        <p class="text-center text-gray-600 mb-8">Espa√ßo dedicado a parceiros e oportunidades de emprego.</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="bg-white p-6 rounded-xl shadow border border-gray-100 flex items-center gap-4">
                                <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold text-xl">L</div>
                                <div class="flex-1">
                                    <h3 class="font-bold text-lg">Log√≠stica Express AO</h3>
                                    <p class="text-sm text-gray-500 mb-3">Parceiro Oficial de Entregas em Luanda.</p>
                                    <a href="https://wa.me/244926837464?text=Ol√°, vi o an√∫ncio no site da Patr√≠cia Pattas e gostaria de saber mais sobre os servi√ßos de entrega." target="_blank" class="bg-green-500 hover:bg-green-600 text-white text-xs px-4 py-2 rounded-full inline-flex items-center gap-2 transition"><i class="fab fa-whatsapp"></i> Contactar Parceiro</a>
                                </div>
                            </div>
                             <div class="bg-white p-6 rounded-xl shadow border border-gray-100 flex flex-col gap-4">
                                <div class="flex items-center gap-4">
                                    <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center text-primary font-bold text-xl"><i class="fas fa-briefcase"></i></div>
                                    <div><h3 class="font-bold text-lg">Vaga: Assistente de Loja</h3><p class="text-sm text-gray-500">Local: Luanda Sul (Patr√≠cia Pattas Shop)</p></div>
                                </div>
                                <form id="job-form" class="border-t pt-4 mt-4" enctype="multipart/form-data">
                                    <input type="hidden" name="_to" value="${SITE_EMAIL}">
                                    <input type="hidden" name="_subject" value="Nova Candidatura - Patr√≠cia Pattas">
                                    <input type="hidden" name="_captcha" value="false">
                                    <input type="hidden" name="_autoresponse" value="Recebemos sua candidatura. Entraremos em contacto se o perfil for compat√≠vel. Boa sorte!">
                                    <div class="space-y-3">
                                        <div><input type="text" name="nome" placeholder="Seu Nome Completo" required class="w-full border border-gray-300 p-2 rounded text-sm focus:outline-none focus:border-primary"></div>
                                        <div><input type="tel" name="telefone" placeholder="Seu WhatsApp/Telefone" required class="w-full border border-gray-300 p-2 rounded text-sm focus:outline-none focus:border-primary"></div>
                                        <div><label class="block text-xs font-bold text-gray-700 mb-2">Anexar Curr√≠culo (PDF)</label><input type="file" name="attachment" accept="application/pdf" required class="block w-full text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20 cursor-pointer"></div>
                                    </div>
                                    <div class="flex flex-col gap-2 mt-4">
                                        <button type="submit" class="w-full bg-primary hover:bg-primaryDark text-white text-sm font-bold py-2 rounded-lg transition flex justify-center items-center gap-2">
                                            <i class="fas fa-envelope-open-text"></i> <span id="job-btn-text">Enviar Candidatura (PDF)</span>
                                            <i id="job-loader" class="fas fa-spinner fa-spin hidden"></i>
                                        </button>
                                        <button type="button" onclick="applyJobWhatsApp('244926837464', 'Assistente de Loja')" class="w-full bg-green-500 hover:bg-green-600 text-white text-sm font-bold py-2 rounded-lg transition flex justify-center items-center gap-2">
                                            <i class="fab fa-whatsapp"></i> Falar no WhatsApp
                                        </button>
                                        <p class="text-[10px] text-gray-400 text-center">*Para WhatsApp, anexe o PDF manualmente na conversa.</p>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderContact() {
            return `
                <div class="container mx-auto px-4 py-8 max-w-2xl">
                    <h2 class="text-3xl font-bold text-center text-primaryDark mb-8">Fale Conosco</h2>
                    <div class="bg-white rounded-xl shadow-lg p-8">
                        <form id="contact-form" class="space-y-4">
                            <input type="hidden" name="_to" value="${SITE_EMAIL}">
                            <input type="hidden" name="_subject" value="Nova Mensagem de Contato - Site">
                            <input type="text" name="name" placeholder="Nome Completo" required class="w-full border border-gray-300 rounded px-4 py-3 focus:border-primary focus:outline-none">
                            <input type="email" name="email" placeholder="E-mail" required class="w-full border border-gray-300 rounded px-4 py-3 focus:border-primary focus:outline-none">
                            <input type="tel" name="phone" placeholder="Telefone (+244)" class="w-full border border-gray-300 rounded px-4 py-3 focus:border-primary focus:outline-none">
                            <textarea name="message" placeholder="Sua Mensagem" rows="4" required class="w-full border border-gray-300 rounded px-4 py-3 focus:border-primary focus:outline-none"></textarea>
                            <button type="submit" class="w-full bg-primary text-white font-bold py-3 rounded hover:bg-primaryDark transition flex justify-center items-center">
                                <span id="contact-btn-text">Enviar Mensagem</span>
                                <i id="contact-loader" class="fas fa-spinner fa-spin ml-2 hidden"></i>
                            </button>
                        </form>
                    </div>
                </div>
            `;
        }

        function renderAbout() {
             return `
                <div class="container mx-auto px-4 py-12 max-w-3xl text-center">
                    <h1 class="text-4xl font-bold text-primaryDark mb-6">Nossa Ess√™ncia</h1>
                    <div class="bg-white p-8 rounded-2xl shadow-lg mb-8"><i class="fas fa-heart text-4xl text-primary mb-4"></i><h2 class="text-2xl font-bold mb-2">Miss√£o</h2><p class="text-gray-600">Empoderar mulheres e homens atrav√©s da beleza e da arte manual, oferecendo produtos de excel√™ncia e forma√ß√£o que transforma vidas.</p></div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="bg-white p-8 rounded-2xl shadow-lg"><i class="fas fa-eye text-4xl text-primary mb-4"></i><h2 class="text-xl font-bold mb-2">Vis√£o</h2><p class="text-gray-600">Ser a refer√™ncia n√∫mero um em Angola em cosm√©tica integrada e moda artesanal.</p></div>
                        <div class="bg-white p-8 rounded-2xl shadow-lg"><i class="fas fa-gem text-4xl text-primary mb-4"></i><h2 class="text-xl font-bold mb-2">Valores</h2><p class="text-gray-600">√âtica, Qualidade, Inova√ß√£o, Respeito √† diversidade e Amor pelo que fazemos.</p></div>
                    </div>
                </div>
            `;
        }

        function renderFAQ() {
            return `
                <div class="container mx-auto px-4 py-12 max-w-3xl">
                    <h2 class="text-3xl font-bold text-center text-primaryDark mb-8">Perguntas Frequentes</h2>
                    <div class="space-y-4">
                        <details class="bg-white p-4 rounded-lg shadow cursor-pointer"><summary class="font-bold text-gray-800">Como funcionam as entregas?</summary><p class="mt-2 text-gray-600">Realizamos entregas em toda Luanda via moto-t√°xi parceiro (taxa varia conforme a zona). Para outras prov√≠ncias (Benguela, Hu√≠la, etc.), utilizamos transportadoras locais com levantamento no terminal.</p></details>
                        <details class="bg-white p-4 rounded-lg shadow cursor-pointer"><summary class="font-bold text-gray-800">Quais as formas de pagamento?</summary><p class="mt-2 text-gray-600">Aceitamos Transfer√™ncia IBAN, Multicaixa Express e Pagamento √† vista na entrega (apenas para o centro de Luanda).</p></details>
                         <details class="bg-white p-4 rounded-lg shadow cursor-pointer"><summary class="font-bold text-gray-800">Os produtos de croch√™ s√£o pronta entrega?</summary><p class="mt-2 text-gray-600">Temos algumas pe√ßas em stock, mas a maioria √© feita sob encomenda com prazo de produ√ß√£o de 3 a 7 dias √∫teis.</p></details>
                    </div>
                </div>
            `;
        }

        function renderLegal(type) {
            let title = "", content = "";
            if(type === 'legal-terms') { title = "Termos de Uso"; content = `<h3 class="font-bold text-lg mb-2">1. Aceita√ß√£o</h3><p class="mb-4">Ao aceder ao site Patr√≠cia Pattas, concorda em cumprir estes termos de servi√ßo, todas as leis e regulamentos aplic√°veis em Angola.</p><h3 class="font-bold text-lg mb-2">2. Pre√ßos e Pagamentos</h3><p class="mb-4">Os pre√ßos apresentados est√£o em Kwanzas (Kz). Reservamo-nos o direito de alterar pre√ßos sem aviso pr√©vio.</p>`; }
            if(type === 'legal-privacy') { title = "Pol√≠tica de Privacidade"; content = `<h3 class="font-bold text-lg mb-2">1. Coleta de Dados</h3><p class="mb-4">Solicitamos informa√ß√µes pessoais apenas quando realmente precisamos delas para lhe fornecer um servi√ßo.</p><h3 class="font-bold text-lg mb-2">2. Uso dos Dados</h3><p class="mb-4">N√£o compartilhamos informa√ß√µes de identifica√ß√£o pessoal publicamente ou com terceiros, exceto quando exigido por lei.</p>`; }
            if(type === 'legal-refund') { title = "Pol√≠tica de Reembolso"; content = `<h3 class="font-bold text-lg mb-2">1. Produtos de Beleza</h3><p class="mb-4">Por quest√µes de higiene, n√£o aceitamos devolu√ß√µes de cosm√©ticos abertos.</p><h3 class="font-bold text-lg mb-2">2. Croch√™</h3><p class="mb-4">Pe√ßas feitas sob medida n√£o s√£o reembols√°veis, exceto defeito de fabrica√ß√£o.</p>`; }
            return `
                <div class="container mx-auto px-4 py-12 max-w-3xl">
                    <h2 class="text-3xl font-bold mb-6 text-gray-800 text-center">${title}</h2>
                    <div class="bg-white p-8 rounded shadow text-gray-600 leading-relaxed border border-gray-100">${content}<div class="mt-8 border-t pt-4 text-sm text-gray-500 text-center"><p>√öltima atualiza√ß√£o: Janeiro 2026</p><p>Luanda, Angola</p></div></div>
                </div>
            `;
        }

        // --- L√ìGICA DO CARRINHO ---
        function addToCart(id) {
            const product = products.find(p => p.id === id);
            cart.push(product);
            localStorage.setItem('patricia_cart', JSON.stringify(cart));
            updateCartCount();
            const btn = event.currentTarget;
            const originalHTML = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i>';
            btn.classList.replace('bg-primary', 'bg-green-500');
            setTimeout(() => { btn.innerHTML = originalHTML; btn.classList.replace('bg-green-500', 'bg-primary'); }, 1000);
        }
        function removeFromCart(index) {
            cart.splice(index, 1);
            localStorage.setItem('patricia_cart', JSON.stringify(cart));
            router('cart');
        }
        function updateCartCount() { document.getElementById('cart-count').innerText = cart.length; }
        function checkoutWhatsApp() {
            let message = "Ol√° Patr√≠cia! Gostaria de finalizar minha compra na Loja Virtual:%0A%0A";
            let total = 0;
            cart.forEach(item => { message += `- ${item.name} (${item.category}): ${item.price} Kz%0A`; total += parseFloat(item.price); });
            message += `%0ATotal: *${total.toFixed(0)} Kz*`;
            window.open(`https://wa.me/244926837464?text=${message}`, '_blank');
        }
        function handleBooking(e) {
            e.preventDefault();
            const inputs = e.target.elements;
            const msg = `Ol√°! Quero agendar:%0AServi√ßo: ${inputs[2].value}%0AData: ${inputs[3].value} √†s ${inputs[4].value}%0AZona: ${inputs.zone.value}%0ACliente: ${inputs[5].value}`;
            window.open(`https://wa.me/244926837464?text=${msg}`, '_blank');
        }
        
        function applyJobWhatsApp(phone, jobTitle) {
            const message = `Ol√°! Tenho interesse na vaga de *${jobTitle}* anunciada no site Patr√≠cia Pattas. O meu curr√≠culo segue em anexo nesta conversa.`;
            const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
            alert("O WhatsApp ser√° aberto. Por favor, lembre-se de ANEXAR o ficheiro PDF manualmente na conversa.");
        }

        // --- IMPLEMENTA√á√ÉO 3: L√≥gica de Tela Cheia (Fullscreen) ---
        function toggleFullScreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch((err) => {
                    alert(`Erro ao tentar ativar tela cheia: ${err.message}`);
                });
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
        }

        // Atualiza o √≠cone quando o modo fullscreen muda (via Esc ou Bot√£o)
        document.addEventListener('fullscreenchange', () => {
            const icon = document.getElementById('fullscreen-icon');
            if (document.fullscreenElement) {
                icon.classList.remove('fa-expand');
                icon.classList.add('fa-compress');
            } else {
                icon.classList.remove('fa-compress');
                icon.classList.add('fa-expand');
            }
        });

        // --- L√ìGICA DE FORMUL√ÅRIOS (FORMSUBMIT COM ARQUIVO REAL) ---
        async function handleFormSubmit(event, formId, btnTextId, loaderId, successMsg) {
            event.preventDefault();
            const form = document.getElementById(formId);
            const btnText = document.getElementById(btnTextId);
            const loader = document.getElementById(loaderId);
            
            const formData = new FormData(form);

            const emailTo = formData.get('_to');
            if(emailTo.includes('EXEMPLO.COM')) {
                alert("Erro de configura√ß√£o de email.");
                return;
            }

            btnText.classList.add('hidden');
            loader.classList.remove('hidden');

            try {
                const response = await fetch(`https://formsubmit.co/ajax/${emailTo}`, {
                    method: 'POST',
                    body: formData
                });
                
                const result = await response.json();
                
                if (result.success === "true" || response.ok) {
                    alert(successMsg);
                    form.reset();
                } else {
                    alert('Houve um erro ao enviar. Tente novamente.');
                }
            } catch (error) {
                console.error(error);
                alert('Erro de conex√£o ou arquivo muito grande. Tentando envio padr√£o...');
                form.submit(); 
            } finally {
                btnText.classList.remove('hidden');
                loader.classList.add('hidden');
            }
        }

        document.addEventListener('submit', function(e) {
            if(e.target.id === 'newsletter-form') {
                handleFormSubmit(e, 'newsletter-form', 'newsletter-btn-text', 'newsletter-loader', 'Inscri√ß√£o realizada com sucesso! üéâ');
            } else if(e.target.id === 'contact-form') {
                handleFormSubmit(e, 'contact-form', 'contact-btn-text', 'contact-loader', 'Mensagem enviada! Entraremos em contacto em breve.');
            } else if(e.target.id === 'job-form') {
                handleFormSubmit(e, 'job-form', 'job-btn-text', 'job-loader', 'Candidatura enviada com sucesso! O seu curr√≠culo foi entregue.');
            }
        });


        // --- L√ìGICA DA ASSISTENTE PATR√çCIA (Chatbot Nativo Avan√ßado) ---
        function toggleChat() {
            const win = document.getElementById('chat-window');
            win.classList.toggle('hidden');
            if(!win.classList.contains('hidden') && chatHistory.length === 0) {
                addBotMessage("Ol√°! Sou a assistente virtual da Patr√≠cia. Estou conectada a todo o site. Pergunte sobre produtos, servi√ßos ou entregas! üòä");
            }
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const text = input.value.trim();
            if(!text) return;
            addUserMessage(text);
            input.value = '';
            
            setTimeout(() => processUserMessage(text), 600);
        }

        function processUserMessage(text) {
            const lowerText = text.toLowerCase();
            let response = "";

            if(lowerText.includes('ir para') || lowerText.includes('abrir a p√°gina')) {
                if(lowerText.includes('loja')) { router('shop'); response = "Abrindo a Loja Virtual para voc√™..."; }
                else if(lowerText.includes('servi√ßo')) { router('services'); response = "Mostrando nossos servi√ßos..."; }
                else if(lowerText.includes('contato')) { router('contact'); response = "Levando voc√™ para o Fale Conosco..."; }
                else if(lowerText.includes('agend')) { router('booking'); response = "Abrindo a agenda..."; }
                else response = "Posso te levar para: Loja, Servi√ßos, Contato ou Agendamento.";
            }
            else if(lowerText.includes('tem') || lowerText.includes('vende') || lowerText.includes('pre√ßo de') || lowerText.includes('quero')) {
                const foundProduct = products.find(p => lowerText.includes(p.name.toLowerCase()) || lowerText.includes(p.category.toLowerCase().slice(0, -1))); 
                
                if(foundProduct) {
                    response = `Sim! Temos <strong>${foundProduct.name}</strong> por ${foundProduct.price} Kz. <br><button onclick="addToCart(${foundProduct.id})" class="text-xs bg-primary text-white px-2 py-1 rounded mt-1">Adicionar ao Carrinho</button>`;
                } else if (lowerText.includes('batom')) {
                     response = "Temos v√°rios batons! <button onclick=\"router('shop'); setTimeout(()=> document.getElementById('searchProduct').value='batom', 500)\" class='underline'>Clique aqui para ver todos na loja.</button>";
                } else {
                     response = "Temos muitos produtos incr√≠veis. Visite nossa <button onclick=\"router('shop')\" class='font-bold underline'>Loja Virtual</button> para ver o cat√°logo completo.";
                }
            }
            else if(lowerText.includes('entrega') || lowerText.includes('envio')) {
                response = "Fazemos entregas em Luanda via moto-t√°xi (taxa por zona). Para prov√≠ncias, enviamos via transportadora (levantamento no terminal).";
            }
            else if(lowerText.includes('pagamento') || lowerText.includes('iban')) {
                response = "Aceitamos Transfer√™ncia Banc√°ria (IBAN), Multicaixa Express e Pagamento na Entrega (apenas Luanda Centro).";
            }
            else if(lowerText.includes('local') || lowerText.includes('onde') || lowerText.includes('endere√ßo')) {
                response = "Somos uma loja online com base em Luanda Sul. N√£o temos loja f√≠sica aberta ao p√∫blico, mas temos pontos de recolha parceiros.";
            }
            else if(lowerText.includes('contato') || lowerText.includes('telefone') || lowerText.includes('whatsapp')) {
                response = "Nosso WhatsApp oficial √© +244 926 837 464. Atendemos das 9h √†s 18h.";
            }
             else if(lowerText.includes('curso') || lowerText.includes('forma√ß√£o')) {
                response = "Temos cursos de Auto-Maquilhagem e Profissional. Veja os detalhes na aba <button onclick=\"router('services')\" class='underline'>Servi√ßos</button>.";
            }
            else if(lowerText.includes('ol√°') || lowerText.includes('oi') || lowerText.includes('bom dia')) {
                response = "Ol√°! Como posso ajudar voc√™ hoje? Procure por produtos ou tire suas d√∫vidas.";
            }
            else {
                response = "Desculpe, n√£o entendi bem. Tente perguntar sobre 'batom', 'entregas' ou 'cursos'. Ou clique no √≠cone do WhatsApp para falar com a humana!";
            }
            
            addBotMessage(response);
        }

        function addUserMessage(text) {
            const div = document.createElement('div');
            div.className = 'chat-bubble chat-user';
            div.innerText = text;
            document.getElementById('chat-messages').appendChild(div);
            scrollToBottom();
        }

        function addBotMessage(html) {
            const div = document.createElement('div');
            div.className = 'chat-bubble chat-bot';
            div.innerHTML = html; 
            document.getElementById('chat-messages').appendChild(div);
            scrollToBottom();
        }

        function scrollToBottom() {
            const container = document.getElementById('chat-messages');
            container.scrollTop = container.scrollHeight;
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }
        
        function filterProducts() {
            const term = document.getElementById('searchProduct').value.toLowerCase();
            const category = document.getElementById('categorySelect').value;
            const grid = document.getElementById('product-grid');
            const cards = grid.getElementsByClassName('category-item');
            
            Array.from(cards).forEach(card => {
                const title = card.querySelector('h3').innerText.toLowerCase();
                const cardCategory = card.getAttribute('data-category');
                const matchesTerm = title.includes(term);
                const matchesCategory = category === 'all' || cardCategory === category;
                if(matchesTerm && matchesCategory) { card.style.display = 'flex'; } else { card.style.display = 'none'; }
            });
        }

        // NOVAS FUN√á√ïES PARA PARTILHA DE ARTIGOS
        function shareArticleWhatsApp(title) {
            const text = `Leitura recomendada: ${title} - No site da Patr√≠cia Pattas!`;
            window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
        }

        function shareArticleFacebook() {
            // Facebook sharer normally takes a URL. Since this is an SPA, we share the current page URL.
            const url = window.location.href; 
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');
        }

        document.addEventListener('DOMContentLoaded', () => {
            router('home');
            updateCartCount();
        });

    </script>
</body>
</html>
